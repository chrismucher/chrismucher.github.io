(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8975],{49786:function(e,t,r){"use strict";r.d(t,{Z:function(){return O}});var n=r(85893),a=r(809),i=r.n(a),s=r(30815),o=r(30266),c=r(92809),u=r(67294),l=r(71296),p=r(37723),d=r(11163),b=r(67457),m=r(665),f=r(92120),y=r(72497),h=r(45697),g=r.n(h),_={propTypes:{latest:r(15802).MX.isRequired,withAds:g().bool,withLoadMore:g().bool,collectionName:g().string,isPodcast:g().shape({slug:g().string}),region:g().string},defaultProps:{withAds:!1,withLoadMore:!1,isPodcast:void 0,collectionName:"",region:""}};function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w={"/podcasts":"podcast","/news/writers-archive":"writer-archive"},j=function(e){var t,r=e.latest,a=e.withAds,h=e.withLoadMore,g=e.isPodcast,_=e.collectionName,v=e.region,j=(0,d.useRouter)(),O=w[j.asPath];t=/\/news\/writers-archive\/\d+/.test(j.asPath)?"writer-archive:writer-collection":O||(_?"collections":"main");var P=O||_||null,Z=O||(_?"collection":"latest"),N=(0,u.useState)({articles:null===r||void 0===r?void 0:r.items,nextPage:null===r||void 0===r?void 0:r.pageNext}),E=N[0],k=N[1];u.useEffect((function(){if(window.AdFuel&&E.articles&&E.articles.length>12){var e=function(e){return 2===e?"ad_bnr_btf_02":"ad_bnr_btf_03"};E.articles.forEach((function(t,r){return(r-2)%3===0&&window.AdFuel.queueRegistry("https://i.cdn.turner.com/ads/nba3/nba_topic_stories.min.js",{slots:[e(r)],slotMap:(0,c.Z)({},e(r),"ad_bnr_btf_".concat((r-2)/3))})}))}}),[E.articles]);var S=(0,u.useState)(!1),D=S[0],B=S[1],A=(0,u.useState)(""),M=A[0],z=A[1];if(!r)return null;var T=function(){var e=(0,o.Z)(i().mark((function e(){var t,n,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B(!0),e.prev=1,t=x(x({},r.queryParams),{},{page:E.nextPage,region:v}),!g){e.next=9;break}return e.next=6,(0,b.ut)(x({id:g.slug},t));case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,(0,b.Zt)(t);case 11:e.t0=e.sent;case 12:n=e.t0,a=n.pageNext,o=n.items,c=[].concat((0,s.Z)(E.articles),(0,s.Z)(o)),k({articles:c,nextPage:a}),B(!1),e.next=25;break;case 20:e.prev=20,e.t1=e.catch(1),B(!1),z("There was a problem loading more results."),console.error(e.t1);case 25:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(){return e.apply(this,arguments)}}();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.Z,{component:"ul",children:E.articles.map((function(e,t){var r;return(0,n.jsx)(p.Z,{timeout:500,classNames:{enter:"duration-500 opacity-0",enterActive:"opacity-100"},children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("li",{children:(0,n.jsx)(y.Z,{type:e.type,title:e.title,shortTitle:e.shortTitle,subtitle:e.excerpt||e.description,category:null===(r=e.categoryPrimary)||void 0===r?void 0:r.name,href:g?"/podcast/".concat(g.slug,"/").concat(e.slug):"/news/".concat(e.slug),img:e.featuredImage,imgSize:"list",timestamp:e.timestamp,runtime:e.videoDuration,analytics:{articleType:Z,collectionName:_,index:t,id:e.id,totalArticles:E.articles.length}})}),a&&(t-2)%3===0&&(0,n.jsx)("li",{children:(0,n.jsx)(f.Z,{placementId:"ad_bnr_btf_".concat((t-2)/3),className:"mb-3",lazyLoad:!0})})]})},e.id)}))}),h&&E.nextPage&&(0,n.jsxs)("div",{className:"mt-2 mb-4",children:[M&&(0,n.jsx)("small",{className:"block mb-3 text-center",children:M}),(0,n.jsx)(m.Z,{"data-track":"click","data-type":"button","data-id":"nba:news:".concat(t,":load-more:button"),"data-text":"LOAD MORE","data-content":P,className:"block mx-auto antialiased uppercase",onClick:T,disabled:D,children:M?"Retry":D?"Loading...":"Load more"})]}),!E.nextPage&&h&&(0,n.jsx)("small",{className:"block my-3 text-center",children:"No additional results."})]})};j.defaultProps=_.defaultProps;var O=j},665:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(85893),a=r(92809),i=r(74788),s=r(94184),o=r.n(s),c=r(81291),u=r.n(c),l=r(45697),p=r.n(l);p().string,p().string,p().bool,p().bool,p().bool,p().bool;function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=function(e){var t,r=e.type,s=e.className,c=e.disabled,l=e.bounce,p=e.inverted,d=e.transparent,m=(0,i.Z)(e,["type","className","disabled","bounce","inverted","transparent"]);return(0,n.jsx)("button",b(b({},m),{},{disabled:c,className:o()(u().button,s,(t={},(0,a.Z)(t,u().disabled,c),(0,a.Z)(t,u().bounce,l),(0,a.Z)(t,u().base,!p),(0,a.Z)(t,u().inverted,p),(0,a.Z)(t,u().transparent,d),t)),type:r}))};m.defaultProps={type:"button",className:"",disabled:!1,bounce:!1,inverted:!1,transparent:!1};var f=m},25397:function(e,t,r){"use strict";r.d(t,{Z:function(){return A}});var n=r(85893),a=r(809),i=r.n(a),s=r(92809),o=r(30266),c=r(67294),u=r(11163),l=r(1104),p=r(49546),d=r(94184),b=r.n(d),m=r(42412),f=r(31932),y=r(40974),h=r(61788),g=r(61006),_=r(665),v=r(60984);function x(e){return w.apply(this,arguments)}function w(){return(w=(0,o.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=r(53230),O=r(33158),P=r(47203),Z=r.n(P);function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k=(0,l.Z_)().email();function S(e,t){return D.apply(this,arguments)}function D(){return(D=(0,o.Z)(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(O.hL)},body:JSON.stringify(r)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){var r=t.type,n=t.payload;switch(r){case"handle_input":return E(E({},e),{},{email:n,inputError:!1});case"input_error":return E(E({},e),{},{inputError:!0});case"initialize":return E(E({},e),{},{brazeError:!1,loading:!0,successMsg:!1});case"braze_error":return E(E({},e),{},{loading:!1,inputError:!1,brazeError:!0});case"success":return E(E({},e),{},{email:"",brazeError:!1,loading:!1,successMsg:!0});default:return e}}var A=function(){var e=(0,u.useRouter)(),t=(0,c.useRef)(),r=(0,c.useReducer)(B,{email:"",inputError:!1,loading:!1,successMsg:!1,brazeError:!1}),a=r[0],l=r[1],d=function(){var t=(0,o.Z)(i().mark((function t(r){var n,s,o,c,u,d,b;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),!k.isValidSync(a.email)){t.next=27;break}return l({type:"initialize"}),n="/[[...root]]"===e.pathname,s=a.email.toLowerCase(),o=(0,j.Z)(["_esi","isDomestic"],window,""),c="true"===o||"false"===o?(0,j.Z)(["_esi","country"],window,"US"):"US",u=[{external_id:s,email:s,country:c,nba_communication_optin:"I",nba_communication_optin_timestamp:(new Date).toISOString(),nba_communication_optin_version:(0,p.Z)(new Date,"yyyyMMdd"),nba_privpolicy_acceptance:"I",nba_privpolicy_acceptance_timestamp:(new Date).toISOString(),nba_privpolicy_acceptance_version:(0,p.Z)(new Date,"yyyyMMdd"),nba_tandc_acceptance:"I",nba_tandc_acceptance_timestamp:(new Date).toISOString(),nba_tandc_acceptance_version:(0,p.Z)(new Date,"yyyyMMdd"),email_subscribe:"opted_in",registrationcode_signup:n?{add:"NBAdotcom|20-21|NBA|League|web|homepage|emailsignup"}:{add:"NBAdotcom|20-21|NBA|League|web|news|emailsignup"}}],d={subscription_group_id:O.RX,subscription_state:"subscribed",external_id:[s],email:[s]},b={subscription_group_id:O.Vg,subscription_state:"subscribed",external_id:[s],email:[s]},t.prev=10,t.next=13,S(O.hU,{attributes:u});case 13:return l({type:"success"}),t.next=16,x(5e3);case 16:return t.next=18,S(O.ER,d);case 18:return t.next=20,S(O.ER,b);case 20:window._satellite.track("email signup submit"),t.next=27;break;case 23:t.prev=23,t.t0=t.catch(10),(0,v.Z)({action:"braze post <url>",error:t.t0}),l({type:"braze_error"});case 27:l({type:"input_error",payload:!0});case 28:case"end":return t.stop()}}),t,null,[[10,23]])})));return function(e){return t.apply(this,arguments)}}();return(0,n.jsxs)(m.Z,{header:(0,n.jsx)("div",{className:"flex items-center justify-center py-6 bg-navy-blue",children:(0,n.jsx)(h.Z,{})}),children:[a.successMsg?(0,n.jsxs)("div",{className:Z().successContainer,children:[(0,n.jsx)(f.Z,{as:"h5",children:"You\u2019re all set!"}),(0,n.jsx)(f.Z,{as:"h5",children:"We\u2019ll keep you up to date with the latest NBA news and headlines."})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.Z,{as:"h5",children:"Want every headline right at your fingertips? Sign up to receive NBA emails!"}),(0,n.jsxs)("form",{className:"my-8",onSubmit:d,children:[(0,n.jsxs)("div",{className:Z().inputContainer,children:[(0,n.jsx)(g.Z,{id:"email",type:"text",placeholder:"Email Address",className:b()((0,s.Z)({},Z().inputError,a.inputError)),required:!0,title:"NBA Email Sign-Up Text Field",ref:t,onChange:function(e){return l({type:"handle_input",payload:e.target.value})}}),a.inputError&&(0,n.jsx)(f.Z,{is:"p",as:"t9",className:Z().errorText,children:"Enter a valid email address"}),a.brazeError&&(0,n.jsx)(f.Z,{is:"p",as:"t9",className:Z().errorText,children:"An error as occurred. Please try again"})]}),(0,n.jsx)(_.Z,{type:"submit",className:"w-full",disabled:a.loading||a.brazeError,children:"Submit"})]})]}),(0,n.jsxs)(f.Z,{is:"p",as:"t11",className:"text-asphalt",children:['By clicking "Submit", you agree to the',(0,n.jsx)(y.Z,{href:"/",text:" Terms and Conditions"})," and Privacy Policy. You agree that your personal information will be used to send you messages about NBA related products and services, and share your personal information with NBA partners and affiliates so that they can also contact you about products and services that might be of interest to you."]})]})}},81291:function(e){e.exports={button:"Button_button__20bBc",base:"Button_base__1lc4l",inverted:"Button_inverted__2Pxpk",transparent:"Button_transparent__jk5Dz",bounce:"Button_bounce__1OD0r",disabled:"Button_disabled__plM1f"}},47203:function(e){e.exports={inputError:"EmailSignUpBlock_inputError__3A5ho",inputContainer:"EmailSignUpBlock_inputContainer__1Fu3R",errorText:"EmailSignUpBlock_errorText__3EjUx",successContainer:"EmailSignUpBlock_successContainer__1UU7q"}}}]);
//# sourceMappingURL=8975-2c98ae10dfbc789731ce.js.map